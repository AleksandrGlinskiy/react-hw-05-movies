"use strict";(self.webpackChunkreact_hw_05_movies=self.webpackChunkreact_hw_05_movies||[]).push([[905],{905:function(n,t,e){e.r(t),e.d(t,{default:function(){return h}});var c=e(439),o=e(791),r=e(87),u=e(689),i=e(299),a="Form_SearchForm__xnVJ6",s="Form_SearchButton__VB+UF",f=e(184),l=function(n){var t=n.onSubmit,e=n.onChange;return(0,f.jsxs)("form",{className:a,onSubmit:t,children:[(0,f.jsx)("input",{type:"text",onChange:e}),(0,f.jsx)("button",{className:s,type:"submit",children:"Search"})]})},h=function(){var n=(0,o.useState)([]),t=(0,c.Z)(n,2),e=t[0],a=t[1],s=(0,o.useState)(""),h=(0,c.Z)(s,2),m=h[0],d=h[1],v=(0,r.lr)(),_=(0,c.Z)(v,2),p=_[0],x=_[1],y=(0,u.TH)();console.log(y),(0,o.useEffect)((function(){var n,t=null!==(n=p.get("query"))&&void 0!==n?n:"";t&&(0,i.Pt)(t).then((function(n){a(n.results)})).catch((function(n){console.log(n)}))}),[p]);return(0,f.jsxs)("main",{children:[(0,f.jsx)(l,{onSubmit:function(n){n.preventDefault(),x(""!==m?{query:m}:{})},onChange:function(n){d(n.target.value)}}),(0,f.jsx)("ul",{children:e.map((function(n){return(0,f.jsx)("li",{children:(0,f.jsx)(r.rU,{to:"/movies/".concat(n.id),state:{from:y},children:n.title})},n.id)}))})]})}},299:function(n,t,e){e.d(t,{Hx:function(){return f},Pt:function(){return i},Y5:function(){return a},wr:function(){return u},xc:function(){return s}});var c="dfe97c9693096be016a960b4c69a6096",o="https://api.themoviedb.org/3",r=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(n).then((function(n){return n.ok?n.json():Promise.reject(new Error("not found "))}))},u=function(){return r("".concat(o,"/trending/all/day?api_key=").concat(c))},i=function(n){return r("".concat(o,"/search/movie?api_key=").concat(c,"&query=").concat(n))},a=function(n){return r("".concat(o,"/movie/").concat(n,"?api_key=").concat(c))},s=function(n){return r("".concat(o,"/movie/").concat(n,"/credits?api_key=").concat(c))},f=function(n){return r("".concat(o,"/movie/").concat(n,"/reviews?api_key=").concat(c))}}}]);
//# sourceMappingURL=905.1edbea6a.chunk.js.map