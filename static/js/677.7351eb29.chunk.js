"use strict";(self.webpackChunkreact_hw_05_movies=self.webpackChunkreact_hw_05_movies||[]).push([[677],{677:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(439),c=t(767),i=t(791),o=t(87),u=t(79),a=t(184),s=function(e){var n=e.searchMovies,t=(0,i.useState)(""),c=(0,r.Z)(t,2),o=c[0],u=c[1];return(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(o.toLowerCase())},children:[(0,a.jsx)("input",{type:"text",name:"query",autoFocus:!0,value:o,onChange:function(e){u(e.target.value)}}),(0,a.jsx)("button",{type:"submit",children:"Search"})]})},h=function(){var e=(0,i.useState)([]),n=(0,r.Z)(e,2),t=n[0],h=n[1],f=(0,i.useState)(!1),l=(0,r.Z)(f,2),d=l[0],v=l[1],m=(0,i.useState)(!1),p=(0,r.Z)(m,2),j=p[0],x=p[1];return(0,a.jsxs)("main",{children:[(0,a.jsx)(s,{searchMovies:function(e){v(!0),(0,u.bI)(e).then((function(e){h(e.results),x(0===e.length)})).catch((function(e){console.log(e)})).finally((function(){v(!1)}))}}),d&&(0,a.jsx)(c.a,{}),j&&(0,a.jsx)("p",{children:"There is no movies with this request. Please, try again"}),t&&(0,a.jsx)("ul",{children:t.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)(o.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]})}},79:function(e,n,t){t.d(n,{bI:function(){return u},wr:function(){return o}});var r="dfe97c9693096be016a960b4c69a6096",c="https://api.themoviedb.org/3",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(e).then((function(e){return e.ok?e.json():Promise.reject(new Error("not found "))}))},o=function(){return i("".concat(c,"/trending/all/day?api_key=").concat(r))},u=function(e){return i("".concat(c,"/search/movie?api_key=").concat(r,"&query=").concat(e))}}}]);
//# sourceMappingURL=677.7351eb29.chunk.js.map