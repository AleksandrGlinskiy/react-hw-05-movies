{"version":3,"file":"static/js/905.1edbea6a.chunk.js","mappings":"yNACA,EAA6B,yBAA7B,EAAqE,2B,SCiBrE,EAfa,SAAC,GAA0B,IAAzBA,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,SAEvB,OACE,kBAAMC,UAAWC,EAAgBH,SAAUA,EAA3C,WACE,kBAAOI,KAAK,OAEZH,SAAUA,KAEV,mBAAQC,UAAWC,EAAkBC,KAAK,SAA1C,SAAoD,aAKzD,ECuCD,EAjDe,WACb,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACjBC,QAAQC,IAAIH,IAEZI,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACRT,EAAK,UAAGG,EAAaO,IAAI,gBAApB,QAAgC,GACtCV,IAGLW,EAAAA,EAAAA,IAAeX,GACZY,MAAK,SAAAC,GACJd,EAAUc,EAAcC,QACzB,IACAC,OAAM,SAAAC,GACLT,QAAQC,IAAIQ,EACb,GACJ,GAAE,CAACb,IAWJ,OACE,6BACE,SAAC,EAAD,CAAMX,SAPW,SAAAyB,GACnBA,EAAEC,iBACFd,EAA0B,KAAVJ,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAC7C,EAIiCP,SAXb,SAAAwB,GACnBhB,EAASgB,EAAEE,OAAOC,MACnB,KAYK,wBACGtB,EAAOuB,KAAI,SAAAC,GAAI,OACd,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAKE,IAAMC,MAAO,CAAEC,KAAMrB,GAA/C,SACGiB,EAAKK,SAFDL,EAAKE,GADA,QAWzB,C,uJCrDD,IAAMI,EAAU,mCACVC,EAAW,+BAEXC,EAAW,WAAe,IAAdC,EAAa,uDAAP,GACtB,OAAOC,MAAMD,GAAKnB,MAAK,SAAAqB,GACrB,OAAIA,EAASC,GACJD,EAASE,OACJC,QAAQC,OAAO,IAAIC,MAAJ,cAC9B,GACF,EAEYC,EAAsB,WACjC,OAAOT,EAAS,GAAD,OAAID,EAAJ,qCAAyCD,GACzD,EAGYjB,EAAiB,SAAA6B,GAC5B,OAAOV,EAAS,GAAD,OAAID,EAAJ,iCAAqCD,EAArC,kBAAsDY,GACtE,EAEYC,EAAoB,SAAAC,GAC/B,OAAOZ,EAAS,GAAD,OAAID,EAAJ,kBAAsBa,EAAtB,oBAAyCd,GACzD,EAEYe,EAAoB,SAAAD,GAC/B,OAAOZ,EAAS,GAAD,OAAID,EAAJ,kBAAsBa,EAAtB,4BAAiDd,GACjE,EAEYgB,EAAoB,SAAAF,GAC/B,OAAOZ,EAAS,GAAD,OAAID,EAAJ,kBAAsBa,EAAtB,4BAAiDd,GACjE,C","sources":["webpack://react-hw-05-movies/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","pages/Movies.jsx","services/fetchAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"SearchForm\":\"Form_SearchForm__xnVJ6\",\"SearchButton\":\"Form_SearchButton__VB+UF\"};","import React from 'react'\nimport css from './Form.module.css'\n\nconst Form = ({onSubmit, onChange}) => {\n  \n  return (\n    <form className={css.SearchForm} onSubmit={onSubmit}>\n      <input type=\"text\" \n     \n      onChange={onChange}\n      />\n      <button className={css.SearchButton} type='submit' >\n    Search\n      </button>\n    </form>\n  )\n}\n\nexport default Form\n","import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { getMovieByName } from 'services/fetchAPI';\nimport Form from '../components/Form/Form';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  console.log(location);\n\n  useEffect(() => {\n    const query = searchParams.get('query') ?? '';\n    if (!query) {\n      return;\n    }\n    getMovieByName(query)\n      .then(searchResults => {\n        setMovies(searchResults.results);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [searchParams]);\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams(query !== '' ? { query } : {});\n  };\n\n  return (\n    <main>\n      <Form onSubmit={handleSubmit} onChange={handleChange} />\n\n      {\n        <ul>\n          {movies.map(film => (\n            <li key={film.id}>\n              <Link to={`/movies/${film.id}`} state={{ from: location }}>\n                {film.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      }\n    </main>\n  );\n};\n\nexport default Movies;\n","const API_KEY = 'dfe97c9693096be016a960b4c69a6096';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst fetchApi = (url = '') => {\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    } else return Promise.reject(new Error(`not found `));\n  });\n};\n\nexport const fetchTrendingMovies = () => {\n  return fetchApi(`${BASE_URL}/trending/all/day?api_key=${API_KEY}`);\n};\n\n\nexport const getMovieByName = name => {\n  return fetchApi(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${name}`);\n};\n\nexport const fetchMovieDetails = movieId => {\n  return fetchApi(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieCredits = movieId => {\n  return fetchApi(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieReviews = movieId => {\n  return fetchApi(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`);\n};\n"],"names":["onSubmit","onChange","className","css","type","useState","movies","setMovies","query","setQuery","useSearchParams","searchParams","setSearchParams","location","useLocation","console","log","useEffect","get","getMovieByName","then","searchResults","results","catch","error","e","preventDefault","target","value","map","film","to","id","state","from","title","API_KEY","BASE_URL","fetchApi","url","fetch","response","ok","json","Promise","reject","Error","fetchTrendingMovies","name","fetchMovieDetails","movieId","fetchMovieCredits","fetchMovieReviews"],"sourceRoot":""}